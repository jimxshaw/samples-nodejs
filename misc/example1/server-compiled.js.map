{"version":3,"sources":["server.js"],"names":[],"mappings":"AAAA,IAAI,OAAO,QAAQ,MAAR,CAAP;AACJ,IAAI,cAAc,QAAQ,aAAR,CAAd;AACJ,IAAI,KAAK,QAAQ,IAAR,CAAL;AACJ,IAAI,OAAO,QAAQ,MAAR,CAAP;AACJ,IAAI,MAAM,QAAQ,KAAR,CAAN;;AAEJ,IAAI,YAAY,aAAZ;;;;;AAKJ,IAAI,SAAS,KAAK,YAAL,CAAkB,UAAS,GAAT,EAAc,GAAd,EAAmB;AAC/C,eAAW,GAAX,EAAgB,GAAhB,EAD+C;CAAnB,CAA3B;;;;AAMJ,SAAS,UAAT,CAAoB,GAApB,EAAyB,GAAzB,EAA8B;;;AAG1B,QAAI,SAAJ,CAAc,GAAd,EAAmB,EAAC,gBAAgB,WAAhB,EAApB,EAH0B;;AAK1B,OAAG,OAAH,CAAW,SAAX,EAAsB,UAAS,GAAT,EAAc,KAAd,EAAqB;;AAEvC,YAAI,GAAJ,EAAS;AACL,gBAAI,GAAJ,CAAQ,GAAR,EADK;AAEL,mBAFK;SAAT;;;AAFuC,YAQnC,eAAe,EAAf,CARmC;AASvC,aAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,MAAM,MAAN,EAAc,GAAlC,EAAuC;AACnC,gBAAI,OAAO,MAAM,CAAN,CAAP;;;;;AAD+B,wBAMnC,IAAgB,CAAC,mBAAD,GAAsB,IAAtB,EAA2B,EAA3B,GAA+B,IAA/B,EAAoC,SAApC,CAAhB,CANmC;SAAvC;;;;;AATuC,WAsBvC,CAAI,GAAJ,CAAQ,CAAC;;gBAAD,GAEE,YAFF,EAEe;;;;;;;QAFf,CAAR,EAtBuC;KAArB,CAAtB,CAL0B;CAA9B;;;AAyCA,OAAO,MAAP,CAAc,IAAd,EAAoB,YAAW;AAC3B,YAAQ,GAAR,CAAY,2BAAZ,EAD2B;CAAX,CAApB","file":"server-compiled.js","sourcesContent":["var http = require(\"http\");\nvar querystring = require(\"querystring\");\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar url = require(\"url\");\n\nvar directory = \"./documents\";\n\n// Create a simple http web server. It takes a callback that accepts\n// a request and returns a response. The server is a stream. To stop\n// it, we have to call .end method or it will continue to run indefinitely.\nvar server = http.createServer(function(req, res) {\n   writeIndex(req, res);\n});\n\n// This is the function to write out the file contents from the documents\n// directory.\nfunction writeIndex(req, res) {\n    // It's important to tell the browser that we're going to pass in html\n    // so it'll render html. Http response status code of 200 means OK.\n    res.writeHead(200, {\"Content-Type\": \"text/html\"});\n\n    fs.readdir(directory, function(err, files) {\n        // If an error appears, end the server immediately and exit the function.\n        if (err) {\n            res.end(err);\n            return;\n        }\n\n        // Declare a variable that will be used in our template string later.\n        var fileListHtml = \"\";\n        for (var i = 0; i < files.length; i++) {\n            var file = files[i];\n\n            // The ?file is the query string that specifies a particular file.\n            // When an a tag has a ?= that means when it's clicked, it'll replace\n            // whatever query string that's there with that query string.\n            fileListHtml += `<li><a href=\"?file=${file}\">${file}</a></li>`;\n        }\n\n\n        // Template strings use backticks, the symbol next to 1 key. Keep in mind\n        // that backticks allow for multi-line template strings and javascript\n        // // expressions, signified by ${}.\n        res.end(`\n            <ul>\n                ${fileListHtml}\n            </ul>\n            <form method=\"POST\">\n                <input type=\"text\" name=\"file\"/>\n                <textarea name=\"text\"></textarea>\n                <input type=\"submit\" />\n            </form>\n        `);\n    });\n}\n\n// List the port where the web server will listen to requests.\nserver.listen(8000, function() {\n    console.log(\"Listening on port 8000...\");\n});"]}